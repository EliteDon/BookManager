{"remainingRequest":"D:\\java\\BookManager\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\java\\BookManager\\front\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\LinesParticles.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\java\\BookManager\\front\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\LinesParticles.vue","mtime":1684463285131},{"path":"D:\\java\\BookManager\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684135544077},{"path":"D:\\java\\BookManager\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1684135549350},{"path":"D:\\java\\BookManager\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684135544077},{"path":"D:\\java\\BookManager\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1684135553513}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYW52YXNDb21wIGZyb20gIi4vQ2FudmFzQ29tcC52dWUiOwppbXBvcnQgUHJvdG9uIGZyb20gInByb3Rvbi1lbmdpbmUiOwppbXBvcnQgUkFGTWFuYWdlciBmcm9tICJyYWYtbWFuYWdlciI7CmltcG9ydCB7IGdldENvbG9yIH0gZnJvbSAiLi4vdXRpbHMvQ29sb3IiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMaW5lc1BhcnRpY2xlcyIsCiAgY29tcG9uZW50czogewogICAgQ2FudmFzQ29tcAogIH0sCiAgcHJvcHM6IHsKICAgIGNhbnZhczogT2JqZWN0LAogICAgYmc6IEJvb2xlYW4sCiAgICBjb2xvcjogU3RyaW5nLAogICAgbnVtOiBOdW1iZXIsCiAgICBjb25maWc6IHt9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYW52YXNJbml0ZWQoY2FudmFzKSB7CiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcyk7CiAgICAgIFJBRk1hbmFnZXIuYWRkKHRoaXMucmVuZGVyUHJvdG9uKTsKICAgICAgaWYgKHRoaXMuY29sb3IpIHsKICAgICAgICBjYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5jb2xvcjsKICAgICAgfQogICAgfSwKICAgIGNhbnZhc1Jlc2l6ZSh7IHdpZHRoLCBoZWlnaHQgfSkgewogICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLndpZHRoID0gd2lkdGg7CiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUuaGVpZ2h0ID0gaGVpZ2h0OwogICAgICB0aGlzLnByb3Rvbi5yZW5kZXJlcnNbMF0ucmVzaXplKHdpZHRoLCBoZWlnaHQpOwogICAgfSwKICAgIGNhbnZhc01vdXNlRG93bihlKSB7fSwKCiAgICBjcmVhdGVQcm90b24oY2FudmFzKSB7CiAgICAgIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoOwogICAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0OwogICAgICB0aGlzLnByb3RvbiA9IG5ldyBQcm90b24oKTsKCiAgICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTsKICAgICAgZW1pdHRlci5kYW1waW5nID0gMC4wMDg7CiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLm51bSA/IHRoaXMubnVtIDogMjUwKTsKICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7CiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlJhZGl1cyg0KSk7CiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZSgKICAgICAgICBuZXcgUHJvdG9uLlZlbG9jaXR5KAogICAgICAgICAgbmV3IFByb3Rvbi5TcGFuKDEuNSksCiAgICAgICAgICBuZXcgUHJvdG9uLlNwYW4oMCwgMzYwKSwKICAgICAgICAgICJwb2xhciIKICAgICAgICApCiAgICAgICk7CiAgICAgIAogICAgICBjb25zdCBtb3VzZU9iaiA9IHsKICAgICAgICB4OiB3aWR0aCAvIDIsCiAgICAgICAgeTogaGVpZ2h0IC8gMgogICAgICB9OwogICAgICBjb25zdCBhdHRyYWN0aW9uQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5BdHRyYWN0aW9uKG1vdXNlT2JqLCAwLCAwKTsKICAgICAgY29uc3QgY3Jvc3Nab25lQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5Dcm9zc1pvbmUoCiAgICAgICAgbmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpLAogICAgICAgICJjcm9zcyIKICAgICAgKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Db2xvcigicmFuZG9tIikpOwogICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihhdHRyYWN0aW9uQmVoYXZpb3VyLCBjcm9zc1pvbmVCZWhhdmlvdXIpOwogICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLlJhbmRvbURyaWZ0KDEwLCAxMCwgMC4wNSkpOwogICAgICBlbWl0dGVyLnAueCA9IGNhbnZhcy53aWR0aCAvIDI7CiAgICAgIGVtaXR0ZXIucC55ID0gY2FudmFzLmhlaWdodCAvIDI7CiAgICAgIGVtaXR0ZXIuZW1pdCgib25jZSIpOwoKICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTsKICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIodGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMpKTsKICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIgPSBjcm9zc1pvbmVCZWhhdmlvdXI7CiAgICB9LAogICAgY3JlYXRlUmVuZGVyZXIoY2FudmFzKSB7CiAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgUHJvdG9uLkNhbnZhc1JlbmRlcmVyKGNhbnZhcyk7CiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlID0gKCkgPT4gewogICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0KICAgICAgICAgIGdldENvbG9yKHRoaXMuY29sb3IsIDAuMDIpIHx8ICJyZ2JhKDAsIDAsIDAsIDAuMDIpIjsKICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgIH07CgogICAgICByZW5kZXJlci5vblBhcnRpY2xlVXBkYXRlID0gZnVuY3Rpb24ocGFydGljbGUpIHsKICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOwogICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBwYXJ0aWNsZS5jb2xvcjsKICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7CiAgICAgICAgY29udGV4dC5tb3ZlVG8ocGFydGljbGUub2xkLnAueCwgcGFydGljbGUub2xkLnAueSk7CiAgICAgICAgY29udGV4dC5saW5lVG8ocGFydGljbGUucC54LCBwYXJ0aWNsZS5wLnkpOwogICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7CiAgICAgICAgY29udGV4dC5zdHJva2UoKTsKICAgICAgfTsKCiAgICAgIHJldHVybiByZW5kZXJlcjsKICAgIH0sCiAgICByZW5kZXJQcm90b24oKSB7CiAgICAgIHRoaXMucHJvdG9uICYmIHRoaXMucHJvdG9uLnVwZGF0ZSgpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMucHJvdG9uLmRlc3Ryb3koKTsKICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pOwogICAgfSBjYXRjaCAoZSkge30KICB9Cn07Cg=="},{"version":3,"sources":["LinesParticles.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LinesParticles.vue","sourceRoot":"node_modules/particles-bg-vue/src/particles-bg/particles","sourcesContent":["<template>\n  <canvas-comp\n    :bg=\"bg\"\n    :canvas=\"canvas\"\n    global-composite-operation=\"source-over\"\n    v-on:canvasInited=\"canvasInited\"\n    v-on:canvasResize=\"canvasResize\"\n    v-on:canvasMouseDown=\"canvasMouseDown\"\n  />\n</template>\n\n<script>\nimport CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport { getColor } from \"../utils/Color\";\n\nexport default {\n  name: \"LinesParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    color: String,\n    num: Number,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.createProton(canvas);\n      RAFManager.add(this.renderProton);\n      if (this.color) {\n        canvas.style.backgroundColor = this.color;\n      }\n    },\n    canvasResize({ width, height }) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n\n      const emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.num ? this.num : 250);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4));\n      emitter.addInitialize(\n        new Proton.Velocity(\n          new Proton.Span(1.5),\n          new Proton.Span(0, 360),\n          \"polar\"\n        )\n      );\n      \n      const mouseObj = {\n        x: width / 2,\n        y: height / 2\n      };\n      const attractionBehaviour = new Proton.Attraction(mouseObj, 0, 0);\n      const crossZoneBehaviour = new Proton.CrossZone(\n        new Proton.RectZone(0, 0, canvas.width, canvas.height),\n        \"cross\"\n      );\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(10, 10, 0.05));\n      emitter.p.x = canvas.width / 2;\n      emitter.p.y = canvas.height / 2;\n      emitter.emit(\"once\");\n\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    },\n    createRenderer(canvas) {\n      const context = canvas.getContext(\"2d\");\n      const renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = () => {\n        context.fillStyle =\n          getColor(this.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleUpdate = function(particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.lineWidth = 1;\n        context.moveTo(particle.old.p.x, particle.old.p.y);\n        context.lineTo(particle.p.x, particle.p.y);\n        context.closePath();\n        context.stroke();\n      };\n\n      return renderer;\n    },\n    renderProton() {\n      this.proton && this.proton.update();\n    }\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};\n</script>\n"]}]}